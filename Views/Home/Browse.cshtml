@model IQueryable<Mixin>;

@{
    ViewData["Title"] = "Browse";
}
@section css{
  <link rel="stylesheet" href="~/css/Mixin/format.css" asp-append-version="true" />   
  <link rel="stylesheet" href="~/css/Mixin/list.css" asp-append-version="true" />   
}

<h1>Browse</h1>
<div id="mixin-list">
  @if(Model.Count()==0){
    <div>Mixin list is empty</div>
  }
  else{
    foreach(var mixin in Model){
      <div class="view-only">
        @await Html.PartialAsync(
          "../Shared/_MixinPartial.cshtml",
          mixin,
          new ViewDataDictionary(this.Vi‌​ewData) {
          { "name", mixin.name },
          { "body", mixin.body },
          { "id", mixin.Id },
          { "arguments", mixin.arguments is null ? "" : $"({mixin.arguments})"},
        })
      </div>
    }
  }
</div>


